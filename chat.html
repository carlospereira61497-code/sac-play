<div id="chat-container" style="background: #1a1a1a; color: white; height: 100vh; display: flex; flex-direction: column;">
    
    <div id="chat-messages" style="flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column;">
        </div>

    <div style="padding: 20px; background: #222; display: flex; gap: 10px;">
        <input type="text" id="chat-input" placeholder="Digite sua mensagem..." style="flex: 1; padding: 12px; border-radius: 5px; border: none; background: #333; color: white;">
        <button id="send-btn" style="background: #d10061; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Enviar</button>
    </div>
</div>

<script>
// A Matriz de InteligÃªncia que vocÃª aprovou
const fluxos = {
    saudacao: () => {
        const hora = new Date().getHours();
        return hora < 12 ? "Bom dia" : hora < 18 ? "Boa tarde" : "Boa noite";
    },
    respostas: {
        "treinamento": "OlÃ¡! âš ï¸ Atendimento em *treinamento*. Retornamos Ã s 18h. ðŸ’™",
        "tim": "ðŸ“¡ *NOC:* Verificando Backbone TIM...",
        "vivo": "ðŸ“¡ *NOC:* Verificando GerÃªncia VIVO...",
        "default": "ðŸ‘‹âœ¨ {{saudacao}}! Bem-vindo Ã  *Play MÃ³vel*!\nComo posso ajudar?\n1ï¸âƒ£ Suporte\n2ï¸âƒ£ Financeiro\n3ï¸âƒ£ Treinamento"
    }
};

function enviarMensagem() {
    const input = document.getElementById('chat-input');
    const container = document.getElementById('chat-messages');
    const msg = input.value.trim();

    if (msg !== "") {
        // Renderiza mensagem do usuÃ¡rio (Rosa Play)
        container.innerHTML += `<div style="background:#d10061; margin: 5px; padding: 10px; border-radius: 10px; align-self: flex-end; max-width: 80%;">${msg}</div>`;
        input.value = '';

        setTimeout(() => {
            let resp = msg.toLowerCase().includes("treinamento") ? fluxos.respostas.treinamento : 
                       msg.toLowerCase().includes("tim") ? fluxos.respostas.tim : 
                       msg.toLowerCase().includes("vivo") ? fluxos.respostas.vivo : 
                       fluxos.respostas.default.replace("{{saudacao}}", fluxos.saudacao());

            // Renderiza resposta do Bot (Cinza NOC)
            container.innerHTML += `<div style="background:#333; margin: 5px; padding: 10px; border-radius: 10px; align-self: flex-start; max-width: 80%;">${resp}</div>`;
            container.scrollTop = container.scrollHeight;
        }, 600);
    }
}

// Vincula o clique e o Enter
document.getElementById('send-btn').onclick = enviarMensagem;
document.getElementById('chat-input').addEventListener('keypress', (e) => { if (e.key === 'Enter') enviarMensagem(); });
</script>